import{u as U,i as z,r as h,j as B,o as K,a as i,c as l,b as y,d as t,w as S,g as k,t as s,k as u,v as A,F as b,e as L,l as H,m as P,R as T,q as g,p as R,h as D}from"./index-8c343d4a.js";import{_ as Y}from"./noimage-fd6253b5.js";import{_ as j,C as F}from"./CNavbar-c5781e69.js";import{L as O}from"./index.esm-643ac226.js";const $=p=>(R("data-v-0d9f33bd"),p=p(),D(),p),q={class:"container"},E={class:"row"},J={class:"col"},Q={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},X={class:"breadcrumb"},G={class:"breadcrumb-item"},W={class:"breadcrumb-item"},Z={class:"breadcrumb-item active","aria-current":"page"},tt={class:"row"},et=$(()=>t("div",{class:"col-6"},[t("h5",null,"旅遊景點")],-1)),at={class:"col-6"},st=["value","selected"],ot={class:"container-fluid"},nt={class:"row",style:{"margin-right":"0"}},it={class:"col-6 area-site"},lt={class:"row row-cols-2 g-2"},ct={key:0},rt=["onClick"],dt=["src"],ut={class:"card-body"},pt={style:{color:"#fff","font-weight":"bold","background-color":"#392A93",width:"30px",height:"30px","border-radius":"999px","text-align":"center","margin-bottom":"5px"}},_t={class:"card-title",style:{"font-size":"large"}},mt={class:"card-text"},ht={class:"badge rounded-pill bg-success text-white",style:{"margin-right":"5px"}},gt={class:"badge rounded-pill bg-success text-white",style:{"margin-right":"5px"}},vt={key:1},yt=["onClick"],bt=$(()=>t("img",{src:Y,class:"card-img-top",alt:"圖片不存在"},null,-1)),wt={class:"card-body"},Ct={style:{color:"#fff","background-color":"#392A93","font-weight":"bold",width:"30px",height:"30px","border-radius":"999px","text-align":"center","margin-bottom":"5px"}},ft={class:"card-title",style:{"font-size":"large"}},xt={class:"card-text"},St={__name:"PointsView",setup(p){const _=U(),N=z(),c=h(),w=h(),v=h([{title:"基隆市",name:"Keelung"},{title:"臺北市",name:"Taipei"},{title:"新北市",name:"NewTaipei"},{title:"桃園市",name:"Taoyuan"},{title:"苗栗縣",name:"MiaoliCounty"},{title:"新竹縣",name:"HsinchuCounty"},{title:"新竹市",name:"Hsinchu"},{title:"臺中市",name:"Taichung"},{title:"彰化縣",name:"ChanghuaCounty"},{title:"南投縣",name:"NantouCounty"},{title:"雲林縣",name:"YunlinCounty"},{title:"嘉義縣",name:"ChiayiCounty"},{title:"嘉義市",name:"Chiayi"},{title:"臺南市",name:"Tainan"},{title:"高雄市",name:"Kaohsiung"},{title:"屏東縣",name:"PingtungCounty"},{title:"宜蘭縣",name:"YilanCounty"},{title:"花蓮縣",name:"HualienCounty"},{title:"臺東縣",name:"TaitungCounty"},{title:"金門縣",name:"KinmenCounty"},{title:"澎湖縣",name:"PenghuCounty"},{title:"連江縣",name:"LienchiangCounty"}]),o=h("Taipei"),M=B(()=>v.value.find(n=>n.name===o.value).title);async function I(){_.push({path:`/points/${o.value}/`}),await C(),await f()}async function C(){try{const a=await H({method:"get",url:`https://tdx.transportdata.tw/api/basic/v2/Tourism/ScenicSpot/${o.value}`,params:{$top:"10",$format:"JSON"}});c.value=a.data}catch(a){alert(a)}}async function f(){const a=new O({apiKey:"AIzaSyC42jlw7i6yloHhAXQp_M7Lxh7_KxzY9bI",version:"weekly",libraries:["places"]}),n={center:{lat:0,lng:0},zoom:11},e=await a.load(),r=new e.maps.Map(w.value,n),m=new e.maps.LatLngBounds;for(let d=0;d<c.value.length;d++){const V=new e.maps.Marker({position:{lat:c.value[d].Position.PositionLat,lng:c.value[d].Position.PositionLon},map:r,title:c.value[d].ScenicSpotName,label:(10+d).toString(36).toUpperCase()});m.extend(V.position)}r.fitBounds(m)}K(async()=>{const a=v.value.find(n=>n.name.toLowerCase()===N.params.city.toLowerCase());o.value=(a==null?void 0:a.name)||o.value,_.replace(`/points/${o.value}/`),await C(),await f()});async function x(a){await _.push({path:`/point/${o.value}/${a.ScenicSpotID}`}),await _.go()}return(a,n)=>(i(),l(b,null,[y(F),t("main",null,[t("div",q,[t("div",E,[t("div",J,[t("nav",Q,[t("ol",X,[t("li",G,[y(k(T),{to:"/"},{default:S(()=>[P("首頁")]),_:1})]),t("li",W,[y(k(T),{to:"/points/Taipei"},{default:S(()=>[P("旅遊景點")]),_:1})]),t("li",Z,s(M.value),1)])])])]),t("div",tt,[et,t("div",at,[u(t("select",{id:"selectedCity",onChange:n[0]||(n[0]=e=>I()),"onUpdate:modelValue":n[1]||(n[1]=e=>o.value=e)},[(i(!0),l(b,null,L(v.value,e=>(i(),l("option",{value:e.name,key:e.name,selected:e.name===o.value.value},s(e.title),9,st))),128))],544),[[A,o.value]])])])]),t("div",ot,[t("div",nt,[t("div",{ref_key:"areaMap",ref:w,class:"col-6 area-map"},null,512),t("div",it,[t("div",lt,[(i(!0),l(b,null,L(c.value,(e,r)=>(i(),l("div",{class:"col",key:1453+r},[e.Picture.PictureUrl1?(i(),l("div",ct,[t("div",{class:"card",onClick:m=>x(e),style:{cursor:"pointer"}},[t("img",{src:e.Picture.PictureUrl1,class:"card-img-top",alt:"..."},null,8,dt),t("div",ut,[t("div",pt,s((10+r).toString(36).toUpperCase()),1),t("h5",_t,s(e.ScenicSpotName),1),t("p",mt,[t("span",ht,s(e.Class1),1),t("span",gt,s(e.Level),1)])])],8,rt)])):(i(),l("div",vt,[t("div",{class:"card",onClick:m=>x(e),style:{cursor:"pointer"}},[bt,t("div",wt,[t("div",Ct,s((10+r).toString(36).toUpperCase()),1),t("h5",ft,s(e.ScenicSpotName),1),t("p",xt,[u(t("span",{class:"badge rounded-pill bg-success text-white",style:{"margin-right":"5px"}},s(e.Class1),513),[[g,e.Class1]]),u(t("span",{class:"badge rounded-pill bg-success text-white",style:{"margin-right":"5px"}},s(e.Class2),513),[[g,e.Class2]]),u(t("span",{class:"badge rounded-pill bg-success text-white",style:{"margin-right":"5px"}},s(e.Class3),513),[[g,e.Class3]]),u(t("span",{class:"badge rounded-pill bg-success text-white",style:{"margin-right":"5px"}},s(e.Level),513),[[g,e.Level]])])])],8,yt)]))]))),128))])])])])])],64))}},$t=j(St,[["__scopeId","data-v-0d9f33bd"]]);export{$t as default};
