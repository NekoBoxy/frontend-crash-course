import{_ as T,C as M}from"./CNavbar-c881e70b.js";import{a as j}from"./axios-4a70c6fc.js";import{u as D,r as x,o as K,h as U,a as S,c as k,b as E,d as a,w as L,F as N,e as F,f as B,i as O,t as w,p as V,g as G}from"./index-74b4603d.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function q(r,t,e,i){function n(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function l(s){try{d(i.next(s))}catch(h){c(h)}}function p(s){try{d(i.throw(s))}catch(h){c(h)}}function d(s){s.done?o(s.value):n(s.value).then(l,p)}d((i=i.apply(r,t||[])).next())})}var z=function r(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var i,n,o;if(Array.isArray(t)){if(i=t.length,i!=e.length)return!1;for(n=i;n--!==0;)if(!r(t[n],e[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(o=Object.keys(t),i=o.length,i!==Object.keys(e).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,o[n]))return!1;for(n=i;n--!==0;){var c=o[n];if(!r(t[c],e[c]))return!1}return!0}return t!==t&&e!==e};const $="__googleMapsScriptId";var g;(function(r){r[r.INITIALIZED=0]="INITIALIZED",r[r.LOADING=1]="LOADING",r[r.SUCCESS=2]="SUCCESS",r[r.FAILURE=3]="FAILURE"})(g||(g={}));class v{constructor({apiKey:t,authReferrerPolicy:e,channel:i,client:n,id:o=$,language:c,libraries:l=[],mapIds:p,nonce:d,region:s,retries:h=3,url:u="https://maps.googleapis.com/maps/api/js",version:f}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=e,this.channel=i,this.client=n,this.id=o||$,this.language=c,this.libraries=l,this.mapIds=p,this.nonce=d,this.region=s,this.retries=h,this.url=u,this.version=f,v.instance){if(!z(this.options,v.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(v.instance.options)}`);return v.instance}v.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?g.FAILURE:this.done?g.SUCCESS:this.loading?g.LOADING:g.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+="?callback=__googleMapsCallback",this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,e)=>{this.loadCallback(i=>{i?e(i.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,e;if(document.getElementById(this.id)){this.callback();return}const i={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(i).forEach(o=>!i[o]&&delete i[o]),!((e=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.maps)===null||e===void 0)&&e.importLibrary||(o=>{let c,l,p,d="The Google Maps JavaScript API",s="google",h="importLibrary",u="__ib__",f=document,m=window;m=m[s]||(m[s]={});const y=m.maps||(m.maps={}),P=new Set,_=new URLSearchParams,R=()=>c||(c=new Promise((b,C)=>q(this,void 0,void 0,function*(){var I;yield l=f.createElement("script"),l.id=this.id,_.set("libraries",[...P]+"");for(p in o)_.set(p.replace(/[A-Z]/g,A=>"_"+A[0].toLowerCase()),o[p]);_.set("callback",s+".maps."+u),l.src=this.url+"?"+_,y[u]=b,l.onerror=()=>c=C(Error(d+" could not load.")),l.nonce=this.nonce||((I=f.querySelector("script[nonce]"))===null||I===void 0?void 0:I.nonce)||"",f.head.append(l)})));y[h]?console.warn(d+" only loads once. Ignoring:",o):y[h]=(b,...C)=>P.add(b)&&R().then(()=>y[h](b,...C))})(i);const n=this.libraries.map(o=>this.importLibrary(o));n.length||n.push(this.importLibrary("core")),Promise.all(n).then(()=>this.callback(),o=>{const c=new ErrorEvent("error",{error:o});this.loadErrorCallback(c)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const e=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},e)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading||(this.loading=!0,this.setScript())}}}const H=r=>(V("data-v-29f163d8"),r=r(),G(),r),J={class:"container"},Z={class:"row"},Y={class:"col"},Q={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},X={class:"breadcrumb"},W={class:"breadcrumb-item"},tt={class:"breadcrumb-item"},et=H(()=>a("li",{class:"breadcrumb-item active","aria-current":"page"},"新北市",-1)),it=B('<div class="row" data-v-29f163d8><div class="col-6" data-v-29f163d8><h5 data-v-29f163d8>旅遊景點</h5></div><div class="col-6" data-v-29f163d8><select name="city" id="selectedCity" data-v-29f163d8><option value="Keelung" data-v-29f163d8>基隆市</option><option value="Taipei" data-v-29f163d8>台北市</option><option value="NewTaipei" data-v-29f163d8>新北市</option><option value="Taoyuan" data-v-29f163d8>桃園市</option><option value="MiaoliCounty" data-v-29f163d8>苗栗縣</option><option value="HsinchuCounty" data-v-29f163d8>新竹縣</option><option value="Hsinchu" data-v-29f163d8>新竹市</option><option value="Taichung" data-v-29f163d8>台中市</option><option value="ChanghuaCounty" data-v-29f163d8>彰化縣</option><option value="NantouCounty" data-v-29f163d8>南投縣</option><option value="YunlinCounty" data-v-29f163d8>雲林縣</option><option value="ChiayiCounty" data-v-29f163d8>嘉義縣</option><option value="Chiayi" data-v-29f163d8>嘉義市</option><option value="Tainan" data-v-29f163d8>台南市</option><option value="Kaohsiung" data-v-29f163d8>高雄市</option><option value="PingtungCounty" data-v-29f163d8>屏東縣</option><option value="YilanCounty" data-v-29f163d8>宜蘭縣</option><option value="HualienCounty" data-v-29f163d8>花蓮縣</option><option value="TaitungCounty" data-v-29f163d8>台東縣</option><option value="KinmenCounty" data-v-29f163d8>金門縣</option><option value="PenghuCounty" data-v-29f163d8>澎湖縣</option><option value="LienchiangCounty" data-v-29f163d8>連江縣</option></select></div></div>',1),ot={class:"contsiner-fluid"},st={class:"row",style:{"margin-right":"0"}},at={class:"col-6 area-site"},nt={class:"row row-cols-2 g-2"},rt=["onClick"],lt=["src"],ct={class:"card-body"},dt={class:"card-title",style:{"font-size":"medium"}},ht={class:"card-text"},pt={class:"badge rounded-pill bg-success text-white"},ut={class:"badge rounded-pill bg-success text-white",style:{"margin-left":"5px","margin-right":"5px"}},ft={class:"badge rounded-pill bg-success text-white"},vt={__name:"PointsView",setup(r){const t=D(),e=x(),i=x();async function n(){try{const p=await j({method:"get",url:"https://tdx.transportdata.tw/api/basic/v2/Tourism/ScenicSpot/Taipei",params:{$top:"10",$format:"JSON"}});e.value=p.data}catch(l){alert(l)}}async function o(){const l=new v({apiKey:"AIzaSyC42jlw7i6yloHhAXQp_M7Lxh7_KxzY9bI",version:"weekly",libraries:["places"]}),p={center:{lat:0,lng:0},zoom:11},d=await l.load(),s=new d.maps.Map(i.value,p),h=new d.maps.LatLngBounds;for(let u=0;u<e.value.length;u++){const f=new d.maps.Marker({position:{lat:e.value[u].Position.PositionLat,lng:e.value[u].Position.PositionLon},map:s,title:e.value[u].ScenicSpotName,label:(10+u).toString(36).toUpperCase()});h.extend(f.position)}s.fitBounds(h)}K(async()=>{await n(),await o()});async function c(l){await t.push({path:`/point/${l.ScenicSpotID}`}),await t.go()}return(l,p)=>{const d=U("RouterLink");return S(),k(N,null,[E(M),a("main",null,[a("div",J,[a("div",Z,[a("div",Y,[a("nav",Q,[a("ol",X,[a("li",W,[E(d,{to:"/"},{default:L(()=>[O("首頁")]),_:1})]),a("li",tt,[E(d,{to:"/points"},{default:L(()=>[O("旅遊景點")]),_:1})]),et])])])]),it]),a("div",ot,[a("div",st,[a("div",{ref_key:"sectionMap",ref:i,class:"col-6 area-map"},null,512),a("div",at,[a("div",nt,[(S(!0),k(N,null,F(e.value,(s,h)=>(S(),k("div",{class:"col",key:1453+h},[a("div",{class:"card",onClick:u=>c(s),style:{cursor:"pointer"}},[a("img",{src:s.Picture.PictureUrl1,class:"card-img-top",alt:"..."},null,8,lt),a("div",ct,[a("h5",dt,w(s.ScenicSpotName),1),a("p",ht,[a("span",pt,w(s.City),1),a("span",ut,w(s.Class1),1),a("span",ft,w(s.Level),1)])])],8,rt)]))),128))])])])])])],64)}}},_t=T(vt,[["__scopeId","data-v-29f163d8"]]);export{_t as default};
