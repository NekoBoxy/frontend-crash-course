import{u as M,h as I,r as m,i as V,o as z,a as l,c,b as v,d as t,w as x,j as f,t as n,k as B,v as K,F as g,e as S,l as H,m as k,R as L,p as R,g as U}from"./index-d3fff6fb.js";import{_ as D,C as Y}from"./CNavbar-f85a1859.js";import{L as j}from"./index.esm-643ac226.js";const A=d=>(R("data-v-a7560c29"),d=d(),U(),d),F={class:"container"},O={class:"row"},E={class:"col"},J={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},Q={class:"breadcrumb"},X={class:"breadcrumb-item"},q={class:"breadcrumb-item"},G={class:"breadcrumb-item active","aria-current":"page"},W={class:"row"},Z=A(()=>t("div",{class:"col-6"},[t("h5",null,"旅遊景點")],-1)),tt={class:"col-6"},et=["value","selected"],at={class:"contsiner-fluid"},st={class:"row",style:{"margin-right":"0"}},ot={class:"col-6 area-site"},nt={class:"row row-cols-2 g-2"},it={key:0},lt=["onClick"],ct=["src"],rt={class:"card-body"},dt={class:"card-title",style:{"font-size":"medium"}},ut={class:"card-text"},pt={class:"badge rounded-pill bg-success text-white",style:{"margin-right":"5px"}},_t={class:"badge rounded-pill bg-success text-white",style:{"margin-right":"5px"}},mt={class:"badge rounded-pill bg-success text-white",style:{"margin-right":"5px"}},ht={key:1},vt=["onClick"],gt={class:"card-body"},yt={class:"card-title",style:{"font-size":"medium"}},wt={class:"card-text"},Ct={class:"badge rounded-pill bg-success text-white",style:{"margin-right":"5px"}},bt={class:"badge rounded-pill bg-success text-white",style:{"margin-right":"5px"}},xt={class:"badge rounded-pill bg-success text-white",style:{"margin-right":"5px"}},ft={__name:"PointsView",setup(d){const u=M(),P=I(),i=m(),y=m(),h=m([{title:"基隆市",name:"Keelung"},{title:"臺北市",name:"Taipei"},{title:"新北市",name:"NewTaipei"},{title:"桃園市",name:"Taoyuan"},{title:"苗栗縣",name:"MiaoliCounty"},{title:"新竹縣",name:"HsinchuCounty"},{title:"新竹市",name:"Hsinchu"},{title:"臺中市",name:"Taichung"},{title:"彰化縣",name:"ChanghuaCounty"},{title:"南投縣",name:"NantouCounty"},{title:"雲林縣",name:"YunlinCounty"},{title:"嘉義縣",name:"ChiayiCounty"},{title:"嘉義市",name:"Chiayi"},{title:"臺南市",name:"Tainan"},{title:"高雄市",name:"Kaohsiung"},{title:"屏東縣",name:"PingtungCounty"},{title:"宜蘭縣",name:"YilanCounty"},{title:"花蓮縣",name:"HualienCounty"},{title:"臺東縣",name:"TaitungCounty"},{title:"金門縣",name:"KinmenCounty"},{title:"澎湖縣",name:"PenghuCounty"},{title:"連江縣",name:"LienchiangCounty"}]),s=m("Taipei"),T=V(()=>h.value.find(o=>o.name===s.value).title);async function $(){u.push({path:`/points/${s.value}/`}),await w(),await C()}async function w(){try{const a=await H({method:"get",url:`https://tdx.transportdata.tw/api/basic/v2/Tourism/ScenicSpot/${s.value}`,params:{$top:"10",$format:"JSON"}});i.value=a.data,console.log("tdxSpot.value",i.value)}catch(a){alert(a)}}async function C(){const a=new j({apiKey:"AIzaSyC42jlw7i6yloHhAXQp_M7Lxh7_KxzY9bI",version:"weekly",libraries:["places"]}),o={center:{lat:0,lng:0},zoom:11},e=await a.load(),p=new e.maps.Map(y.value,o),_=new e.maps.LatLngBounds;for(let r=0;r<i.value.length;r++){const N=new e.maps.Marker({position:{lat:i.value[r].Position.PositionLat,lng:i.value[r].Position.PositionLon},map:p,title:i.value[r].ScenicSpotName,label:(10+r).toString(36).toUpperCase()});_.extend(N.position)}p.fitBounds(_)}z(async()=>{const a=h.value.find(o=>o.name.toLowerCase()===P.params.city.toLowerCase());s.value=(a==null?void 0:a.name)||s.value,u.replace(`/points/${s.value}/`),await w(),await C()});async function b(a){await u.push({path:`/point/${s.value}/${a.ScenicSpotID}`}),await u.go()}return(a,o)=>(l(),c(g,null,[v(Y),t("main",null,[t("div",F,[t("div",O,[t("div",E,[t("nav",J,[t("ol",Q,[t("li",X,[v(f(L),{to:"/"},{default:x(()=>[k("首頁")]),_:1})]),t("li",q,[v(f(L),{to:"/points/Taipei"},{default:x(()=>[k("旅遊景點")]),_:1})]),t("li",G,n(T.value),1)])])])]),t("div",W,[Z,t("div",tt,[B(t("select",{id:"selectedCity",onChange:o[0]||(o[0]=e=>$()),"onUpdate:modelValue":o[1]||(o[1]=e=>s.value=e)},[(l(!0),c(g,null,S(h.value,e=>(l(),c("option",{value:e.name,key:e.name,selected:e.name===s.value.value},n(e.title),9,et))),128))],544),[[K,s.value]])])])]),t("div",at,[t("div",st,[t("div",{ref_key:"areaMap",ref:y,class:"col-6 area-map"},null,512),t("div",ot,[t("div",nt,[(l(!0),c(g,null,S(i.value,(e,p)=>(l(),c("div",{class:"col",key:1453+p},[e.Picture.PictureUrl1?(l(),c("div",it,[t("div",{class:"card",onClick:_=>b(e),style:{cursor:"pointer"}},[t("img",{src:e.Picture.PictureUrl1,class:"card-img-top",alt:"..."},null,8,ct),t("div",rt,[t("h5",dt,n(e.ScenicSpotName),1),t("p",ut,[t("span",pt,n(e.City),1),t("span",_t,n(e.Class1),1),t("span",mt,n(e.Level),1)])])],8,lt)])):(l(),c("div",ht,[t("div",{class:"card",onClick:_=>b(e),style:{cursor:"pointer"}},[t("div",gt,[t("h5",yt,n(e.ScenicSpotName),1),t("p",wt,[t("span",Ct,n(e.City),1),t("span",bt,n(e.Class1),1),t("span",xt,n(e.Level),1)])])],8,vt)]))]))),128))])])])])])],64))}},Pt=D(ft,[["__scopeId","data-v-a7560c29"]]);export{Pt as default};
