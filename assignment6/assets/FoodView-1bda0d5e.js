import{u as V,a as B,r as v,o as H,b as r,c as d,d as g,e as t,w as P,h as L,t as o,k as u,q as _,m as p,F as I,f as K,l as T,R as b,p as W,i as z}from"./index-05a224ad.js";import{L as Y,_ as D}from"./index.esm-e638bc7d.js";import{_ as J,C as j}from"./CNavbar-d6351784.js";import{C as q}from"./CFooter-d0485ca3.js";const m=w=>(W("data-v-59dd90c4"),w=w(),z(),w),E={class:"container"},Q={class:"row"},X={class:"col"},G={style:{"--bs-breadcrumb-divider":"'>'"},"aria-label":"breadcrumb"},t1={class:"breadcrumb"},e1={class:"breadcrumb-item"},a1={class:"breadcrumb-item"},s1={class:"breadcrumb-item active","aria-current":"page"},o1={class:"row"},n1={class:"col-6 food-img"},i1={key:0},l1=["src"],c1={key:1},r1=m(()=>t("img",{src:D,alt:"沒有提供餐廳圖片",srcset:""},null,-1)),d1=[r1],u1={class:"col-6"},_1={class:"badge rounded-pill bg-success text-white",style:{"margin-right":"5px"}},C1={class:"point-detail"},h1={class:"point-item"},v1={class:"point-item"},p1=m(()=>t("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2ZM0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10ZM10 5C10.5523 5 11 5.44772 11 6V10H15C15.5523 10 16 10.4477 16 11C16 11.5523 15.5523 12 15 12H10C9.44771 12 9 11.5523 9 11V6C9 5.44772 9.44771 5 10 5Z",fill:"#392A93"})],-1)),g1={class:"point-item"},m1=m(()=>t("svg",{width:"20",height:"22",viewBox:"0 0 20 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.43052 2.589C5.35991 2.27418 5.07177 2.05675 4.74965 2.07524L1.91943 2.2377C1.57249 2.25762 1.30995 2.54711 1.31835 2.87712C1.51756 10.7027 4.25943 15.0881 7.61046 17.4395C10.9933 19.8133 15.1168 20.1994 18.2014 19.7777C18.4689 19.7411 18.6916 19.494 18.6816 19.1618L18.6099 16.7974C18.6017 16.5268 18.4287 16.2887 18.1739 16.1971L14.1908 14.7666C13.8987 14.6617 13.5731 14.7747 13.4088 15.038L12.2772 16.852C11.8324 17.5651 10.946 17.9608 10.0864 17.6728C5.30737 16.0715 3.97391 12.1287 3.89099 9.80876C3.87083 9.24461 4.13187 8.75055 4.49738 8.41308L6.07341 6.95796C6.24619 6.79844 6.32088 6.55895 6.26942 6.32949L5.43052 2.589ZM4.67411 0.759267C5.64045 0.703798 6.50489 1.35607 6.71671 2.30054L7.55561 6.04103C7.70999 6.7294 7.48591 7.44787 6.96759 7.92643L5.39156 9.38156C5.25726 9.50555 5.20416 9.64601 5.20829 9.76168C5.27746 11.697 6.38732 15.0432 10.5052 16.423C10.7248 16.4966 11.0013 16.407 11.1588 16.1544L12.2904 14.3404C12.7832 13.5505 13.7602 13.2113 14.6363 13.526L18.6194 14.9566C19.384 15.2312 19.9028 15.9455 19.9274 16.7575L19.9991 19.1218C20.0277 20.0647 19.3764 20.9475 18.3799 21.0837C15.0761 21.5354 10.5873 21.1387 6.85332 18.5185C3.08752 15.876 0.207994 11.0562 0.000638074 2.91066C-0.0263132 1.85193 0.80393 0.981421 1.84389 0.921726L4.67411 0.759267Z",fill:"#392A93"})],-1)),w1={class:"point-item"},f1=m(()=>t("svg",{width:"20",height:"24",viewBox:"0 0 20 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.6 2.46154C5.65062 2.46154 2.56 5.37438 2.56 8.83916C2.56 9.58165 2.95546 10.7555 3.72531 12.2389C4.46998 13.6737 5.47566 15.2337 6.50029 16.6905C7.5218 18.1428 8.54574 19.4695 9.31559 20.4344C9.41488 20.5589 9.50987 20.6772 9.6 20.7889C9.69013 20.6772 9.78512 20.5589 9.88441 20.4344C10.6543 19.4695 11.6782 18.1428 12.6997 16.6905C13.7243 15.2337 14.73 13.6737 15.4747 12.2389C16.2445 10.7555 16.64 9.58165 16.64 8.83916C16.64 5.37438 13.5494 2.46154 9.6 2.46154ZM9.6 22.7692C8.61136 23.551 8.61125 23.5508 8.6111 23.5507L8.61064 23.5501L8.60917 23.5484L8.60397 23.5423L8.58473 23.5197L8.51226 23.434C8.44933 23.3594 8.35785 23.2503 8.24189 23.1106C8.01001 22.8311 7.67996 22.4285 7.28441 21.9327C6.49426 20.9423 5.4382 19.5744 4.37971 18.0694C3.32434 16.5689 2.25002 14.909 1.43469 13.338C0.644535 11.8155 0 10.1977 0 8.83916C0 3.89995 4.35936 0 9.6 0C14.8406 0 19.2 3.89995 19.2 8.83916C19.2 10.1977 18.5555 11.8155 17.7653 13.338C16.95 14.909 15.8757 16.5689 14.8203 18.0694C13.7618 19.5744 12.7057 20.9423 11.9156 21.9327C11.52 22.4285 11.19 22.8311 10.9581 23.1106C10.8421 23.2503 10.7507 23.3594 10.6877 23.434L10.6153 23.5197L10.596 23.5423L10.5908 23.5484L10.5894 23.5501L10.5889 23.5507C10.5888 23.5508 10.5886 23.551 9.6 22.7692ZM9.6 22.7692L10.5886 23.551C10.3455 23.8353 9.98279 24 9.6 24C9.21721 24 8.8545 23.8353 8.61136 23.551L9.6 22.7692ZM9.6 7.38462C8.53961 7.38462 7.68 8.21117 7.68 9.23077C7.68 10.2504 8.53961 11.0769 9.6 11.0769C10.6604 11.0769 11.52 10.2504 11.52 9.23077C11.52 8.21117 10.6604 7.38462 9.6 7.38462ZM5.12 9.23077C5.12 6.8517 7.12576 4.92308 9.6 4.92308C12.0742 4.92308 14.08 6.8517 14.08 9.23077C14.08 11.6098 12.0742 13.5385 9.6 13.5385C7.12576 13.5385 5.12 11.6098 5.12 9.23077Z",fill:"#392A93"})],-1)),y1={class:"point-item"},P1=["href"],L1={class:"point-item"},b1=["href"],M1={class:"col-12 mt-4"},k1={class:"col-12 mt-4 mb-1 nearby-food"},x1={class:"row row-cols-md-4 row-cols-1 g-4"},$1={class:"card"},U1={key:0},R1=["src"],I1={key:1},T1=m(()=>t("img",{src:D,class:"card-img-top",alt:"資料庫無餐廳圖片"},null,-1)),D1=[T1],N1={class:"card-body"},Z1={class:"card-title"},A1={__name:"FoodView",setup(w){const y=V(),M=B(),k=v(null),l=v(""),f=v(""),x=v([]),a=v({Picture:[]}),N=v([{title:"基隆市",name:"Keelung"},{title:"臺北市",name:"Taipei"},{title:"新北市",name:"NewTaipei"},{title:"桃園市",name:"Taoyuan"},{title:"苗栗縣",name:"MiaoliCounty"},{title:"新竹縣",name:"HsinchuCounty"},{title:"新竹市",name:"Hsinchu"},{title:"臺中市",name:"Taichung"},{title:"彰化縣",name:"ChanghuaCounty"},{title:"南投縣",name:"NantouCounty"},{title:"雲林縣",name:"YunlinCounty"},{title:"嘉義縣",name:"ChiayiCounty"},{title:"嘉義市",name:"Chiayi"},{title:"臺南市",name:"Tainan"},{title:"高雄市",name:"Kaohsiung"},{title:"屏東縣",name:"PingtungCounty"},{title:"宜蘭縣",name:"YilanCounty"},{title:"花蓮縣",name:"HualienCounty"},{title:"臺東縣",name:"TaitungCounty"},{title:"金門縣",name:"KinmenCounty"},{title:"澎湖縣",name:"PenghuCounty"},{title:"連江縣",name:"LienchiangCounty"}]);async function Z(){try{const s=await T({method:"get",url:`https://tdx.transportdata.tw/api/basic/v2/Tourism/Restaurant/${l.value}`,params:{$filter:`contains(RestaurantID, '${f.value}')`,$format:"JSON"}}),e=await F(s.data);a.value=e[0]}catch(s){alert(s)}}async function A(){try{const s=await T({method:"get",url:`https://tdx.transportdata.tw/api/basic/v2/Tourism/Restaurant/${l.value}`,params:{$filter:`RestaurantID ne '${f.value}'`,$format:"JSON",$Top:4}});x.value=s.data}catch(s){alert(s)}}async function S(){const s=await new Y({apiKey:"AIzaSyC42jlw7i6yloHhAXQp_M7Lxh7_KxzY9bI",version:"weekly",libraries:["places"]}),e={center:{lat:a.value.Position.PositionLat,lng:a.value.Position.PositionLon},zoom:15},i=await s.load(),c=await new i.maps.Map(k.value,e),n=await new i.maps.LatLngBounds,C=await new i.maps.Marker({position:{lat:a.value.Position.PositionLat,lng:a.value.Position.PositionLon},map:c});n.extend(C.position)}async function F(s){return s.map(e=>{var i,c,n,C,h,$,U,R;return{City:e.City,RestaurantID:e.RestaurantID,RestaurantName:e.RestaurantName,Description:e.Description,Address:e.Address,Phone:e.Phone,OpenTime:e.OpenTime,WebsiteUrl:(e==null?void 0:e.WebsiteUrl)||"",Class:(e==null?void 0:e.Class)||"",MapUrl:(e==null?void 0:e.MapUrl)||"",ParkingInfo:(e==null?void 0:e.ParkingInfo)||"",Picture:[...(i=e.Picture)!=null&&i.PictureUrl1?[(c=e.Picture)==null?void 0:c.PictureUrl1]:[],...(n=e.Picture)!=null&&n.PictureUrl2?[(C=e.Picture)==null?void 0:C.PictureUrl2]:[],...(h=e.Picture)!=null&&h.PictureUrl3?[($=e.Picture)==null?void 0:$.PictureUrl3]:[]],Position:{PositionLon:(U=e==null?void 0:e.Position)==null?void 0:U.PositionLon,PositionLat:(R=e==null?void 0:e.Position)==null?void 0:R.PositionLat}}})}async function O(s){await y.push({path:`/food/${l.value}/${s.RestaurantID}`}),await y.go()}return H(async()=>{const s=N.value.find(e=>e.name.toLowerCase()===M.params.city.toLowerCase());l.value=(s==null?void 0:s.name)||l.value,f.value=M.params.id,y.replace(`/food/${l.value}/${f.value}/`),await Z(),await S(),await A()}),(s,e)=>{var i,c;return r(),d(I,null,[g(j),t("main",null,[t("div",E,[t("div",Q,[t("div",X,[t("nav",G,[t("ol",t1,[t("li",e1,[g(L(b),{to:"/"},{default:P(()=>[p("首頁")]),_:1})]),t("li",a1,[g(L(b),{to:"/foods"},{default:P(()=>[p("美食餐廳")]),_:1})]),t("li",s1,o(a.value.City),1)])])])]),t("div",o1,[t("div",n1,[a.value.Picture.length>0?(r(),d("div",i1,[t("img",{src:a.value.Picture[0],alt:"餐廳圖片",srcset:""},null,8,l1)])):(r(),d("div",c1,d1))]),t("div",u1,[t("div",null,[t("span",_1,o(a.value.City),1),u(t("span",{class:"badge rounded-pill bg-success text-white"},o(a.value.Class),513),[[_,a.value.Class]])]),t("div",C1,[t("h3",h1,o(a.value.RestaurantName),1),u(t("div",v1,[p1,p(o(a.value.OpenTime),1)],512),[[_,a.value.OpenTime]]),u(t("div",g1,[m1,p(o(a.value.Phone),1)],512),[[_,a.value.Phone]]),u(t("div",w1,[f1,p(o(a.value.Address),1)],512),[[_,a.value.Address]]),u(t("div",y1,[p(" 官網： "),t("a",{href:a.value.WebsiteUrl,target:"_blank"},o(a.value.WebsiteUrl),9,P1)],512),[[_,a.value.WebsiteUrl]]),u(t("div",{class:"point-item"},o(a.value.ParkingInfo),513),[[_,(i=a.value)==null?void 0:i.ParkingInfo]]),u(t("div",L1,[t("a",{href:a.value.MapUrl,target:"_blank"},o(a.value.MapUrl),9,b1)],512),[[_,(c=a.value)==null?void 0:c.MapUrl]])])]),t("div",M1,o(a.value.Description),1),t("div",{class:"col-12 mt-4 map",ref_key:"pointMap",ref:k},null,512),t("div",k1,[t("h5",null,o(`看看${a.value.City}的其他餐廳`),1),t("div",x1,[(r(!0),d(I,null,K(x.value,(n,C)=>(r(),d("div",{class:"col",key:C},[g(L(b),{to:`/food/${l.value}/${n.RestaurantID}`,onClick:h=>O(n)},{default:P(()=>{var h;return[t("div",$1,[(h=n.Picture)!=null&&h.PictureUrl1?(r(),d("div",U1,[t("img",{src:n.Picture.PictureUrl1,class:"card-img-top",alt:"餐廳圖片"},null,8,R1)])):(r(),d("div",I1,D1)),t("div",N1,[t("span",Z1,o(n.RestaurantName),1)])])]}),_:2},1032,["to","onClick"])]))),128))])])])]),g(q)])],64)}}},B1=J(A1,[["__scopeId","data-v-59dd90c4"]]);export{B1 as default};
